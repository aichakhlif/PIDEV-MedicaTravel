{% extends'back.html.twig' %}



{% block body %}


    <body xmlns="http://www.w3.org/1999/html">
    <!-- Left Panel -->

    <!-- /#left-panel -->

    <!-- Left Panel -->

    <!-- Right Panel -->


    <!-- Header-->
    <!-- /header -->
    <!-- Header-->

    <div class="breadcrumbs">
        <div class="col-sm-4">
            <div class="page-header float-left">
                <div class="page-title">
                    <h1>Dashboard</h1>
                </div>
            </div>
        </div>
        <div class="col-sm-8">
            <div class="page-header float-right">
                <div class="page-title">
                    <ol class="breadcrumb text-right">
                        <li><a href="#">Dashboard</a></li>
                        <li><a href="#">Table</a></li>
                        <li class="active">Data table</li>
                    </ol>
                </div>
            </div>
        </div>
    </div>
    <div class="col-md-12">
        <div class="card">
            <div class="card-header">
                <strong class="card-title">Catégorie</strong>
            </div>

            <div class="card-body">
                <center><a class="btn btn-primary" href="{{ path('Cat_new') }}" role="button">Nouvelle Catégorie</a></center>
                </br>
                <table id="tableac" class="table table-striped table-bordered">
                    <script src="{{ asset('/assets/js/jquery.min.js') }}"></script>

                    <input type="text" id="search" class="form-control" placeholder="Search">

                    <thead>
                    <tr>
                        <th>Id</th>
                        <th>Nom</th>
                        <th>Actions</th>

                    </tr>
                    </thead>
                    <tbody>
                    {% for cat in categories %}
                    <tr>
                        <td>{{ cat.Id }}</td>
                        <td>{{ cat.Nom }}</td>

                        <td class="table-action">
                            <a href="{{ path('Cat_edit',{'id':cat.Id}) }}"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-edit-2 align-middle"><path d="M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"></path></svg></a>
                            <a href="{{ path('SupprimerCat',{'id':cat.Id}) }}"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-trash align-middle"><polyline points="3 6 5 6 21 6"></polyline><path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path></svg></a>

                        </td>
                    </tr>

                    <script>
                        $(document).ready(function(){
                            $('#search').keyup(function(){
                                search_table($(this).val());
                            });
                            function search_table(value){
                                $('#tableac tbody tr').each(function(){
                                    var found = 'false';
                                    $(this).each(function(){
                                        if($(this).text().toLowerCase().indexOf(value.toLowerCase()) >= 0)
                                        {
                                            found = 'true';
                                        }
                                    });
                                    if(found == 'true')
                                    {
                                        $(this).show();

                                    }
                                    else
                                    {
                                        $(this).hide();

                                    }
                                });
                            }
                        });
                    </script>

                    </tbody>

                    {% endfor %}
                </table>
            </div>
        </div>
    </div>


    <div class="content mt-3">
        <div class="animated fadeIn">
            <div class="row">

                <div class="col-md-12">
                    <div class="card">
                        <div class="card-header">
                            <strong class="card-title">Article</strong>
                        </div>

                        <div class="card-body">
                            <center><a class="btn btn-primary" href="{{ path('Article_new') }}" role="button">Nouveau Article</a></center>

                            <table id="bootstrap-data-table-export" class="table table-striped table-bordered">
                                <thead>
                                <tr>
                                    <th>Titre</th>
                                    <th>Catégorie</th>
                                    <th>Date </th>
                                    <th>Auteur</th>
                                    <th>Actions</th>
                                </tr>
                                </thead>
                                <tbody>
                                {% for article in articles %}
                                    <tr>
                                        <td>{{ article.Titre }}</td>
                                        <td>{{ article.Cat }}</td>
                                        <td>{{ article.Date | date('d/m/Y') }}</td>
                                        <td>{{ article.Auteur }}</td>
                                        <td class="table-action">
                                            <a href="{{ path('Blog_edit',{'id':article.id}) }}"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-edit-2 align-middle"><path d="M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"></path></svg></a>
                                            <a href="{{ path('Supprimer',{'id':article.id}) }}"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-trash align-middle"><polyline points="3 6 5 6 21 6"></polyline><path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path></svg></a>
                                            <a href="{{ path('blog_show',{'id':article.Id}) }}" target = "_blank"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-eye align-middle me-2"><path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path><circle cx="12" cy="12" r="3"></circle></svg></a>
                                        </td>
                                    </tr>
                                {% endfor %}

                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>


            </div>
        </div><!-- .animated -->
    </div><!-- .content -->



    <!-- Right Panel -->



    </body>

    </html>

{% endblock %}
